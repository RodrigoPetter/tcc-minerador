<div class="page-header">
    <div class="row">
        <div class="col-md-6">
            <h1 ng-if="!albumSelecionado">Selecione um albúm para análise</h1>
            <h1 ng-if="albumSelecionado">Analisando albúm {{albumName}}</h1>
        </div>
        <div class="col-md-6">
            <div class="col-md-9">
                <h3 style="float: right">Usuário Logado: {{profileData.firstName+" "+profileData.lastName}}</h3>
            </div>
            <div class="col-md-3">
                <img style="max-width: 250px" data-ng-src="data:image/png;base64,{{profilePhoto}}"/>
            </div>
        </div>
    </div>
</div>
<select name="repeatSelect" id="repeatSelect" ng-model="selectedClassifier" ng-if="!albumSelecionado">
    <option value="">---Selecione um classificador---</option>
    <option ng-repeat="classifier in listaClassifier" value="{{extrairID(classifier)}}">{{classifier.nome}}</option>
</select>
<div class="panel panel-default"
     ng-repeat="album in listaAlbums"
     ng-if="!albumSelecionado">
    <div class="panel-body">
        <img style="max-width: 250px" data-ng-src="data:image/png;base64,{{foto.imagem}}"/>
        <span>{{album.name}}</span>
        <button type="submit"
                class="btn btn-default"
                ng-click="analisar(album.id, album.name)">Analisar</button>
        <button type="submit"
                class="btn btn-default"
                ng-if="foto.resultadoAnalise"
                ng-click="salvarResultado(extrairID(foto), foto.resultadoAnalise)">
            Salvar resultado
        </button>
        <div class="well well-lg" ng-if="foto.resultadoAnalise">
            <b><p>Pessoas identificadas</p></b>
            <p ng-repeat="resultado in foto.resultadoAnalise">{{resultado.Prediction}}: {{resultado.confidence | percentage:2}}</p>
        </div>
    </div>
</div>
<div class="panel panel-default"
     ng-repeat="photos in albumPhotos"
     ng-if="albumSelecionado">
    <div class="panel-body">
        <img style="max-width: 250px" ng-src="{{photos.source}}"/>
        <span>{{photos.name}}</span>
        <span ng-if="!foto.resultadoAnalise"><b>Aguarde! Foto sendo processada...</b></span>
        <button type="submit"
                class="btn btn-default"
                ng-if="foto.resultadoAnalise"
                ng-click="salvarResultado(extrairID(foto), foto.resultadoAnalise)">
            Salvar resultado
        </button>
        <div class="well well-lg" ng-if="foto.resultadoAnalise">
            <b><p>Pessoas identificadas</p></b>
            <p ng-repeat="resultado in foto.resultadoAnalise">{{resultado.Prediction}}: {{resultado.confidence | percentage:2}}</p>
        </div>
    </div>
</div>